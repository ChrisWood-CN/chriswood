{"title":"docker部署kafka集群","uid":"08e8e341bc5995ad32cb07dac198cc20","slug":"kafka/docker部署kafka集群","date":"2023-02-02T07:28:39.000Z","updated":"2024-06-19T06:04:57.002Z","comments":true,"path":"api/articles/kafka/docker部署kafka集群.json","keywords":"chriswood blogs sharing","cover":null,"content":"<h2 id=\"docker搭建Zookeeper单机-kafka集群\"><a href=\"#docker搭建Zookeeper单机-kafka集群\" class=\"headerlink\" title=\"docker搭建Zookeeper单机+kafka集群\"></a>docker搭建Zookeeper单机+kafka集群</h2><h3 id=\"环境\"><a href=\"#环境\" class=\"headerlink\" title=\"环境\"></a>环境</h3><p>Linux系统：centos 7.6<br>Zookeeper：wurstmeister&#x2F;zookeeper<br>Kafka：wurstmeister&#x2F;kafka</p>\n<h3 id=\"Zookeeper单机\"><a href=\"#Zookeeper单机\" class=\"headerlink\" title=\"Zookeeper单机\"></a>Zookeeper单机</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker pull wurstmeister&#x2F;zookeeper\n\ndocker run -d --name zookeeper -p 2181:2181 -t wurstmeister&#x2F;zookeeper</code></pre>\n<h3 id=\"Kafka集群\"><a href=\"#Kafka集群\" class=\"headerlink\" title=\"Kafka集群\"></a>Kafka集群</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker pull wurstmeister&#x2F;kafka\n\ndocker run -d --name kafka0 -p 9092:9092 \\\n-e KAFKA_BROKER_ID&#x3D;0 \\\n-e KAFKA_ZOOKEEPER_CONNECT&#x3D;124.221.83.80:2181 \\\n-e KAFKA_ADVERTISED_LISTENERS&#x3D;PLAINTEXT:&#x2F;&#x2F;124.221.83.80:9092 \\\n-e KAFKA_LISTENERS&#x3D;PLAINTEXT:&#x2F;&#x2F;0.0.0.0:9092 \\\n-t wurstmeister&#x2F;kafka\n\ndocker run -d --name kafka1 -p 9093:9093 \\\n-e KAFKA_BROKER_ID&#x3D;1 \\\n-e KAFKA_ZOOKEEPER_CONNECT&#x3D;124.221.83.80:2181 \\\n-e KAFKA_ADVERTISED_LISTENERS&#x3D;PLAINTEXT:&#x2F;&#x2F;124.221.83.80:9093 \\\n-e KAFKA_LISTENERS&#x3D;PLAINTEXT:&#x2F;&#x2F;0.0.0.0:9093 \\\n-t wurstmeister&#x2F;kafka\n\ndocker run -d --name kafka2 -p 9094:9094 \\\n-e KAFKA_BROKER_ID&#x3D;2 \\\n-e KAFKA_ZOOKEEPER_CONNECT&#x3D;124.221.83.80:2181 \\\n-e KAFKA_ADVERTISED_LISTENERS&#x3D;PLAINTEXT:&#x2F;&#x2F;124.221.83.80:9094 \\\n-e KAFKA_LISTENERS&#x3D;PLAINTEXT:&#x2F;&#x2F;0.0.0.0:9094 \\\n-t wurstmeister&#x2F;kafka</code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">docker ps\n\nCONTAINER ID   IMAGE                    COMMAND                  CREATED          STATUS          PORTS                                                                   NAMES\n3950fc28423e   wurstmeister&#x2F;kafka       &quot;start-kafka.sh&quot;         6 seconds ago    Up 5 seconds    0.0.0.0:9094-&gt;9094&#x2F;tcp, :::9094-&gt;9094&#x2F;tcp                               kafka2\n12cf92618c00   wurstmeister&#x2F;kafka       &quot;start-kafka.sh&quot;         8 seconds ago    Up 7 seconds    0.0.0.0:9093-&gt;9093&#x2F;tcp, :::9093-&gt;9093&#x2F;tcp                               kafka1\na525a115890b   wurstmeister&#x2F;kafka       &quot;start-kafka.sh&quot;         9 seconds ago    Up 7 seconds    0.0.0.0:9092-&gt;9092&#x2F;tcp, :::9092-&gt;9092&#x2F;tcp                               kafka0\nff862fe0f2ca   wurstmeister&#x2F;zookeeper   &quot;&#x2F;bin&#x2F;sh -c &#39;&#x2F;usr&#x2F;sb…&quot;   27 minutes ago   Up 27 minutes   22&#x2F;tcp, 2888&#x2F;tcp, 3888&#x2F;tcp, 0.0.0.0:2181-&gt;2181&#x2F;tcp, :::2181-&gt;2181&#x2F;tcp   zookeeper</code></pre>\n<h3 id=\"创建topic测试\"><a href=\"#创建topic测试\" class=\"headerlink\" title=\"创建topic测试\"></a>创建topic测试</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker exec -it kafka0 bash\ncd opt&#x2F;kafka_2.13-2.8.1&#x2F;bin\nkafka-topics.sh --zookeeper 124.221.83.80:2181 --create --topic topic-demo --partitions 3 --replication-factor 1\nkafka-topics.sh --zookeeper 124.221.83.80:2181 --describe --topic topic-demo</code></pre>\n","text":"docker搭建Zookeeper单机+kafka集群环境Linux系统：centos 7.6Zookeeper：wurstmeister&#x2F;zookeeperKafka：wurstmeister&#x2F;kafka Zookeeper单机docker pull wur...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"kafka","slug":"kafka","count":2,"path":"api/categories/kafka.json"}],"tags":[{"name":"docker","slug":"docker","count":5,"path":"api/tags/docker.json"},{"name":"kafka","slug":"kafka","count":2,"path":"api/tags/kafka.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#docker%E6%90%AD%E5%BB%BAZookeeper%E5%8D%95%E6%9C%BA-kafka%E9%9B%86%E7%BE%A4\"><span class=\"toc-text\">docker搭建Zookeeper单机+kafka集群</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">环境</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Zookeeper%E5%8D%95%E6%9C%BA\"><span class=\"toc-text\">Zookeeper单机</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Kafka%E9%9B%86%E7%BE%A4\"><span class=\"toc-text\">Kafka集群</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BAtopic%E6%B5%8B%E8%AF%95\"><span class=\"toc-text\">创建topic测试</span></a></li></ol></li></ol>","author":{"name":"ChrisWood","slug":"blog-author","avatar":"https://chriswood-blog.oss-cn-shanghai.aliyuncs.com/me/avatar.png","link":"/","description":"Think like an artist, code like an artisan.","socials":{"github":"https://github.com/chriswoodcn","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"kafka学习","uid":"61a9c9a9f7385f264375e290c4106594","slug":"kafka/kafka学习","date":"2023-02-02T08:21:26.000Z","updated":"2024-06-19T06:04:57.002Z","comments":true,"path":"api/articles/kafka/kafka学习.json","keywords":"chriswood blogs sharing","cover":null,"text":"安装启动ZooKeeper（单机模式）1.下载解压镜像地址下载zookeeper，tar -zxvf 解压至&#x2F;opt2.配置环境变量 vim &#x2F;etc&#x2F;profile export ZOOKEEPER_HOME&#x3D;&#x2F;opt&#x2F...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"kafka","slug":"kafka","count":2,"path":"api/categories/kafka.json"}],"tags":[{"name":"kafka","slug":"kafka","count":2,"path":"api/tags/kafka.json"},{"name":"zookeeper","slug":"zookeeper","count":1,"path":"api/tags/zookeeper.json"}],"author":{"name":"ChrisWood","slug":"blog-author","avatar":"https://chriswood-blog.oss-cn-shanghai.aliyuncs.com/me/avatar.png","link":"/","description":"Think like an artist, code like an artisan.","socials":{"github":"https://github.com/chriswoodcn","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"线性代数、","uid":"4a252c6d91d90d01f76ac551256de599","slug":"master/Math/线性代数","date":"2022-10-30T12:37:45.000Z","updated":"2024-06-19T06:04:57.002Z","comments":true,"path":"api/articles/master/Math/线性代数.json","keywords":"chriswood blogs sharing","cover":null,"text":"","link":"","photos":[],"count_time":{"symbolsCount":0,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"ChrisWood","slug":"blog-author","avatar":"https://chriswood-blog.oss-cn-shanghai.aliyuncs.com/me/avatar.png","link":"/","description":"Think like an artist, code like an artisan.","socials":{"github":"https://github.com/chriswoodcn","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}