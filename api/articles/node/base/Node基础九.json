{"title":"NodeåŸºç¡€ä¹","uid":"b171402bc406b8e8ddf1dcd5f712137e","slug":"node/base/NodeåŸºç¡€ä¹","date":"2022-10-01T04:29:50.000Z","updated":"2023-02-06T07:58:50.038Z","comments":true,"path":"api/articles/node/base/NodeåŸºç¡€ä¹.json","keywords":"chriswood blogs sharing","cover":[],"content":"<h2 id=\"ä¹-httpå¼€å‘webæœåŠ¡å™¨\"><a href=\"#ä¹-httpå¼€å‘webæœåŠ¡å™¨\" class=\"headerlink\" title=\"ä¹.httpå¼€å‘webæœåŠ¡å™¨\"></a>ä¹.httpå¼€å‘webæœåŠ¡å™¨</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ä»€ä¹ˆæ˜¯WebæœåŠ¡å™¨ï¼Ÿ</p>\n<p>å½“åº”ç”¨ç¨‹åºï¼ˆå®¢æˆ·ç«¯ï¼‰éœ€è¦æŸä¸€ä¸ªèµ„æºæ—¶ï¼Œå¯ä»¥å‘ä¸€ä¸ªå°æœåŠ¡å™¨ï¼Œé€šè¿‡Httpè¯·æ±‚è·å–åˆ°è¿™ä¸ªèµ„æºï¼›æä¾›æœåŠ¡å™¨çš„è¿™ä¸ªæœåŠ¡å™¨ï¼Œå°±æ˜¯ä¸€ä¸ªWebæœåŠ¡å™¨ï¼›</p></blockquote>\n<p><img src=\"https://mmbiz.qpic.cn/mmbiz_jpg/O8xWXzAqXuvfXvFoaXOVJ29jk0SkBGbYZYwgaPR9na9Lym9T8nLzn8aiazAgKTX01Vh9MBr7aEohYhaV4THKdeg/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1\" alt=\"å›¾ç‰‡\">WebæœåŠ¡å™¨</p>\n<p>ç›®å‰æœ‰å¾ˆå¤šå¼€æºçš„WebæœåŠ¡å™¨ï¼šNginxã€Apacheï¼ˆé™æ€ï¼‰ã€Apache Tomcatï¼ˆé™æ€ã€åŠ¨æ€ï¼‰ã€Node.js</p>\n<h2 id=\"ä¸€-Httpæ¨¡æ¿åŸºæœ¬ä½¿ç”¨\"><a href=\"#ä¸€-Httpæ¨¡æ¿åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"ä¸€. Httpæ¨¡æ¿åŸºæœ¬ä½¿ç”¨\"></a>ä¸€. Httpæ¨¡æ¿åŸºæœ¬ä½¿ç”¨</h2><h3 id=\"1-1-å¦‚ä½•åˆ›å»ºæœåŠ¡\"><a href=\"#1-1-å¦‚ä½•åˆ›å»ºæœåŠ¡\" class=\"headerlink\" title=\"1.1. å¦‚ä½•åˆ›å»ºæœåŠ¡\"></a>1.1. å¦‚ä½•åˆ›å»ºæœåŠ¡</h3><h4 id=\"1-1-1-WebæœåŠ¡å™¨åˆä½“éªŒ\"><a href=\"#1-1-1-WebæœåŠ¡å™¨åˆä½“éªŒ\" class=\"headerlink\" title=\"1.1.1. WebæœåŠ¡å™¨åˆä½“éªŒ\"></a>1.1.1. WebæœåŠ¡å™¨åˆä½“éªŒ</h4><p>åˆ›å»ºä¸€ä¸ªWebæœåŠ¡å™¨çš„åˆä½“éªŒï¼š</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const http &#x3D; require(&#39;http&#39;);\n\nconst HTTP_PORT &#x3D; 8000;\n\nconst server &#x3D; http.createServer((req, res) &#x3D;&gt; &#123;\n  res.end(&quot;Hello World&quot;);\n&#125;);\n\nserver.listen(8000, () &#x3D;&gt; &#123;\n  console.log(&#96;ğŸš€æœåŠ¡å™¨åœ¨$&#123;HTTP_PORT&#125;å¯åŠ¨~&#96;)\n&#125;)</code></pre>\n\n<h4 id=\"1-1-2-åˆ›å»ºæœåŠ¡å™¨\"><a href=\"#1-1-2-åˆ›å»ºæœåŠ¡å™¨\" class=\"headerlink\" title=\"1.1.2. åˆ›å»ºæœåŠ¡å™¨\"></a>1.1.2. åˆ›å»ºæœåŠ¡å™¨</h4><p>åˆ›å»ºæœåŠ¡å™¨å¯¹è±¡ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡ <code>createServer</code> æ¥å®Œæˆçš„</p>\n<ul>\n<li><code>http.createServer</code>ä¼šè¿”å›æœåŠ¡å™¨çš„å¯¹è±¡ï¼›</li>\n<li>åº•å±‚å…¶å®ä½¿ç”¨ç›´æ¥ new Server å¯¹è±¡ã€‚</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">function createServer(opts, requestListener) &#123;\n  return new Server(opts, requestListener);\n&#125;</code></pre>\n\n<p>é‚£ä¹ˆï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±æ¥åˆ›å»ºè¿™ä¸ªå¯¹è±¡ï¼š</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const server2 &#x3D; new http.Server((req, res) &#x3D;&gt; &#123;\n  res.end(&quot;Hello Server2&quot;);\n&#125;);\n\nserver2.listen(9000, () &#x3D;&gt; &#123;\n  console.log(&quot;æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ~&quot;);\n&#125;)</code></pre>\n\n<p>ä¸Šé¢æˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œåˆ›å»ºServeræ—¶ä¼šä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°åœ¨è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼š</p>\n<ul>\n<li>reqï¼šrequestè¯·æ±‚å¯¹è±¡ï¼ŒåŒ…å«è¯·æ±‚ç›¸å…³çš„ä¿¡æ¯ï¼›</li>\n<li>resï¼šresponseå“åº”å¯¹è±¡ï¼ŒåŒ…å«æˆ‘ä»¬è¦å‘é€ç»™å®¢æˆ·ç«¯çš„ä¿¡æ¯ï¼›</li>\n</ul>\n<h4 id=\"1-1-3-ç›‘å¬ç«¯å£å’Œä¸»æœº\"><a href=\"#1-1-3-ç›‘å¬ç«¯å£å’Œä¸»æœº\" class=\"headerlink\" title=\"1.1.3. ç›‘å¬ç«¯å£å’Œä¸»æœº\"></a>1.1.3. ç›‘å¬ç«¯å£å’Œä¸»æœº</h4><p><strong>Server</strong>é€šè¿‡listenæ–¹æ³•æ¥å¼€å¯æœåŠ¡å™¨ï¼Œå¹¶ä¸”åœ¨æŸä¸€ä¸ªä¸»æœºå’Œç«¯å£ä¸Šç›‘å¬ç½‘ç»œè¯·æ±‚ï¼š</p>\n<ul>\n<li>ä¹Ÿå°±æ˜¯å½“æˆ‘ä»¬é€šè¿‡ <code>ip:port</code>çš„æ–¹å¼å‘é€åˆ°æˆ‘ä»¬ç›‘å¬çš„WebæœåŠ¡å™¨ä¸Šæ—¶ï¼›</li>\n<li>æˆ‘ä»¬å°±å¯ä»¥å¯¹å…¶è¿›è¡Œç›¸å…³çš„å¤„ç†ï¼›</li>\n</ul>\n<p><code>listen</code>å‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼š</p>\n<ul>\n<li><p>ç«¯å£port: å¯ä»¥ä¸ä¼ , ç³»ç»Ÿä¼šé»˜è®¤åˆ†é…ç«¯, åç»­é¡¹ç›®ä¸­æˆ‘ä»¬ä¼šå†™å…¥åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼›</p>\n</li>\n<li><p>ä¸»æœºhost: é€šå¸¸å¯ä»¥ä¼ å…¥localhostã€ipåœ°å€127.0.0.1ã€æˆ–è€…ipåœ°å€0.0.0.0ï¼Œé»˜è®¤æ˜¯0.0.0.0ï¼›</p>\n</li>\n<li><ul>\n<li>ç›‘å¬IPV4ä¸Šæ‰€æœ‰çš„åœ°å€ï¼Œå†æ ¹æ®ç«¯å£æ‰¾åˆ°ä¸åŒçš„åº”ç”¨ç¨‹åºï¼›</li>\n</ul>\n</li>\n<li><p>æ¯”å¦‚æˆ‘ä»¬ç›‘å¬ <code>0.0.0.0</code>æ—¶ï¼Œåœ¨åŒä¸€ä¸ªç½‘æ®µä¸‹çš„ä¸»æœºä¸­ï¼Œé€šè¿‡ipåœ°å€æ˜¯å¯ä»¥è®¿é—®çš„ï¼›</p>\n</li>\n<li><p>æ­£å¸¸çš„æ•°æ®åº“åŒ…ç»å¸¸ åº”ç”¨å±‚ - ä¼ è¾“å±‚ - ç½‘ç»œå±‚ - æ•°æ®é“¾è·¯å±‚ - ç‰©ç†å±‚ ï¼›</p>\n</li>\n<li><p>è€Œå›ç¯åœ°å€ï¼Œæ˜¯åœ¨ç½‘ç»œå±‚ç›´æ¥å°±è¢«è·å–åˆ°äº†ï¼Œæ˜¯ä¸ä¼šç»å¸¸æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚çš„ï¼›</p>\n</li>\n<li><p>æ¯”å¦‚æˆ‘ä»¬ç›‘å¬ <code>127.0.0.1</code>æ—¶ï¼Œåœ¨åŒä¸€ä¸ªç½‘æ®µä¸‹çš„ä¸»æœºä¸­ï¼Œé€šè¿‡ipåœ°å€æ˜¯ä¸èƒ½è®¿é—®çš„ï¼›</p>\n</li>\n<li><p>localhostï¼šæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŸŸåï¼Œé€šå¸¸æƒ…å†µä¸‹ä¼šè¢«è§£ææˆ127.0.0.1ï¼›</p>\n</li>\n<li><p>127.0.0.1ï¼šå›ç¯åœ°å€ï¼ˆLoop Back Addressï¼‰ï¼Œè¡¨è¾¾çš„æ„æ€å…¶å®æ˜¯æˆ‘ä»¬ä¸»æœºè‡ªå·±å‘å‡ºå»çš„åŒ…ï¼Œç›´æ¥è¢«è‡ªå·±æ¥æ”¶ï¼›</p>\n</li>\n<li><p>0.0.0.0ï¼š</p>\n</li>\n<li><p>å›è°ƒå‡½æ•°ï¼šæœåŠ¡å™¨å¯åŠ¨æˆåŠŸæ—¶çš„å›è°ƒå‡½æ•°ï¼›</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">server.listen(() &#x3D;&gt; &#123;\n  console.log(&quot;æœåŠ¡å™¨å¯åŠ¨~ğŸš€&quot;);\n&#125;)</code></pre>\n\n<h3 id=\"1-2-requestè¯·æ±‚å¯¹è±¡\"><a href=\"#1-2-requestè¯·æ±‚å¯¹è±¡\" class=\"headerlink\" title=\"1.2. requestè¯·æ±‚å¯¹è±¡\"></a>1.2. requestè¯·æ±‚å¯¹è±¡</h3><p>åœ¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬ä¼šæºå¸¦å¾ˆå¤šä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š</p>\n<ul>\n<li>æœ¬æ¬¡è¯·æ±‚çš„URLï¼ŒæœåŠ¡å™¨éœ€è¦æ ¹æ®ä¸åŒçš„URLè¿›è¡Œä¸åŒçš„å¤„ç†ï¼›</li>\n<li>æœ¬æ¬¡è¯·æ±‚çš„è¯·æ±‚æ–¹å¼ï¼Œæ¯”å¦‚GETã€POSTè¯·æ±‚ä¼ å…¥çš„å‚æ•°å’Œå¤„ç†çš„æ–¹å¼æ˜¯ä¸åŒçš„ï¼›</li>\n<li>æœ¬æ¬¡è¯·æ±‚çš„headersä¸­ä¹Ÿä¼šæºå¸¦ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚å®¢æˆ·ç«¯ä¿¡æ¯ã€æ¥å—æ•°æ®çš„æ ¼å¼ã€æ”¯æŒçš„ç¼–ç æ ¼å¼ç­‰ï¼›</li>\n<li>ç­‰ç­‰â€¦</li>\n</ul>\n<p>è¿™äº›ä¿¡æ¯ï¼ŒNodeä¼šå¸®åŠ©æˆ‘ä»¬å°è£…åˆ°ä¸€ä¸ªrequestçš„å¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ¥å¤„ç†è¿™ä¸ªrequestå¯¹è±¡ï¼š</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const server &#x3D; http.createServer((req, res) &#x3D;&gt; &#123;\n  &#x2F;&#x2F; requestå¯¹è±¡\n  console.log(req.url);\n  console.log(req.method);\n  console.log(req.headers);\n\n  res.end(&quot;Hello World&quot;);\n&#125;);</code></pre>\n\n<h4 id=\"1-2-1-URLçš„å¤„ç†\"><a href=\"#1-2-1-URLçš„å¤„ç†\" class=\"headerlink\" title=\"1.2.1. URLçš„å¤„ç†\"></a>1.2.1. URLçš„å¤„ç†</h4><p>å®¢æˆ·ç«¯åœ¨å‘é€è¯·æ±‚æ—¶ï¼Œä¼šè¯·æ±‚ä¸åŒçš„æ•°æ®ï¼Œé‚£ä¹ˆä¼šä¼ å…¥ä¸åŒçš„è¯·æ±‚åœ°å€ï¼š</p>\n<ul>\n<li>æ¯”å¦‚ <code>http://localhost:8000/login</code>ï¼›</li>\n<li>æ¯”å¦‚ <code>http://localhost:8000/products</code>;</li>\n</ul>\n<p>æœåŠ¡å™¨ç«¯éœ€è¦æ ¹æ®ä¸åŒçš„è¯·æ±‚åœ°å€ï¼Œä½œå‡ºä¸åŒçš„å“åº”ï¼š</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const server &#x3D; http.createServer((req, res) &#x3D;&gt; &#123;\n  const url &#x3D; req.url;\n  console.log(url);\n\n  if (url &#x3D;&#x3D;&#x3D; &#39;&#x2F;login&#39;) &#123;\n    res.end(&quot;welcome Back~&quot;);\n  &#125; else if (url &#x3D;&#x3D;&#x3D; &#39;&#x2F;products&#39;) &#123;\n    res.end(&quot;products&quot;);\n  &#125; else &#123;\n    res.end(&quot;error message&quot;);\n  &#125;\n&#125;);</code></pre>\n\n<p>é‚£ä¹ˆå¦‚æœç”¨æˆ·å‘é€çš„åœ°å€ä¸­è¿˜æºå¸¦ä¸€äº›é¢å¤–çš„å‚æ•°å‘¢ï¼Ÿ</p>\n<ul>\n<li><code>http://localhost:8000/login?name=why&amp;password=123</code>;</li>\n<li>è¿™ä¸ªæ—¶å€™ï¼Œurlçš„å€¼æ˜¯ <code>/login?name=why&amp;password=123</code>ï¼›</li>\n</ul>\n<p>æˆ‘ä»¬å¦‚ä½•å¯¹å®ƒè¿›è¡Œè§£æå‘¢ï¼Ÿ</p>\n<ul>\n<li>ä½¿ç”¨å†…ç½®æ¨¡å—urlï¼›</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const url &#x3D; require(&#39;url&#39;);\n\n&#x2F;&#x2F; è§£æè¯·æ±‚\nconst parseInfo &#x3D; url.parse(req.url);\nconsole.log(parseInfo);</code></pre>\n\n<p>è§£æç»“æœï¼š</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Url &#123;\n  protocol: null,\n  slashes: null,\n  auth: null,\n  host: null,\n  port: null,\n  hostname: null,\n  hash: null,\n  search: &#39;?name&#x3D;why&amp;password&#x3D;123&#39;,\n  query: &#39;name&#x3D;why&amp;password&#x3D;123&#39;,\n  pathname: &#39;&#x2F;login&#39;,\n  path: &#39;&#x2F;login?name&#x3D;why&amp;password&#x3D;123&#39;,\n  href: &#39;&#x2F;login?name&#x3D;why&amp;password&#x3D;123&#39;\n&#125;</code></pre>\n\n<p>æˆ‘ä»¬ä¼šå‘ç° <code>pathname</code>å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>\n<p>ä½†æ˜¯ <code>query</code> ä¿¡æ¯å¦‚ä½•å¯ä»¥è·å–å‘¢ï¼Ÿ</p>\n<ul>\n<li>æ–¹å¼ä¸€ï¼šæˆªå–å­—ç¬¦ä¸²ï¼›</li>\n<li>æ–¹å¼äºŒï¼šä½¿ç”¨querystringå†…ç½®æ¨¡å—ï¼›</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const &#123; pathname, query &#125; &#x3D; url.parse(req.url);\nconst queryObj &#x3D; qs.parse(query);\nconsole.log(queryObj.name);\nconsole.log(queryObj.password);</code></pre>\n\n<h4 id=\"1-2-2-Methodçš„å¤„ç†\"><a href=\"#1-2-2-Methodçš„å¤„ç†\" class=\"headerlink\" title=\"1.2.2. Methodçš„å¤„ç†\"></a>1.2.2. Methodçš„å¤„ç†</h4><p>åœ¨Restfulè§„èŒƒï¼ˆè®¾è®¡é£æ ¼ï¼‰ä¸­ï¼Œæˆ‘ä»¬å¯¹äºæ•°æ®çš„å¢åˆ æ”¹æŸ¥åº”è¯¥é€šè¿‡ä¸åŒçš„è¯·æ±‚æ–¹å¼ï¼š</p>\n<ul>\n<li>GETï¼šæŸ¥è¯¢æ•°æ®ï¼›</li>\n<li>POSTï¼šæ–°å»ºæ•°æ®ï¼›</li>\n<li>PATCHï¼šæ›´æ–°æ•°æ®ï¼›</li>\n<li>DELETEï¼šåˆ é™¤æ•°æ®ï¼›</li>\n</ul>\n<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ¤æ–­ä¸åŒçš„è¯·æ±‚æ–¹å¼è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚</p>\n<p>æ¯”å¦‚åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼š</p>\n<ul>\n<li>è¯·æ±‚æ¥å£ä¸º <code>/users</code>ï¼›</li>\n<li>è¯·æ±‚æ–¹å¼ä¸º <code>POST</code>è¯·æ±‚ï¼›</li>\n<li>æºå¸¦æ•°æ® <code>username</code>å’Œ<code>password</code>ï¼›</li>\n</ul>\n<p><img src=\"https://mmbiz.qpic.cn/mmbiz_jpg/O8xWXzAqXuvfXvFoaXOVJ29jk0SkBGbYIR7ichuI44mbZLhDTDgrc8qLB2tvOBBicPRHmnIX5iazgYQHZT2Kq8HeA/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1\" alt=\"å›¾ç‰‡\">åˆ›å»ºç”¨æˆ·è¯·æ±‚</p>\n<p>åœ¨æˆ‘ä»¬ç¨‹åºä¸­å¦‚ä½•è¿›è¡Œåˆ¤æ–­ä»¥åŠè·å–å¯¹åº”çš„æ•°æ®å‘¢ï¼Ÿ</p>\n<ul>\n<li>è¿™é‡Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­æ¥å£æ˜¯ <code>/users</code>ï¼Œå¹¶ä¸”è¯·æ±‚æ–¹å¼æ˜¯POSTæ–¹æ³•å»è·å–ä¼ å…¥çš„æ•°æ®ï¼›</li>\n<li>è·å–è¿™ç§bodyæºå¸¦çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ç›‘å¬reqçš„ <code>data</code>äº‹ä»¶æ¥è·å–ï¼›</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">if (req.url.indexOf(&#39;&#x2F;users&#39;) !&#x3D;&#x3D; -1) &#123;\n  if (req.method &#x3D;&#x3D;&#x3D; &#39;POST&#39;) &#123;\n  \n    &#x2F;&#x2F; å¯ä»¥è®¾ç½®ç¼–ç ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸‹æ–¹é€šè¿‡ data.toString() è·å–å­—ç¬¦ä¸²æ ¼å¼\n    req.setEncoding(&#39;utf-8&#39;);\n\n    req.on(&#39;data&#39;, (data) &#x3D;&gt; &#123;\n      const &#123;username, password&#125; &#x3D; JSON.parse(data);\n      console.log(username, password);\n    &#125;);\n\n    res.end(&quot;create user success&quot;);\n  &#125; else &#123;\n    res.end(&quot;users list&quot;);\n  &#125;\n&#125; else &#123;\n  res.end(&quot;error message&quot;);\n&#125;</code></pre>\n\n<p>å°†JSONå­—ç¬¦ä¸²æ ¼å¼è½¬æˆå¯¹è±¡ç±»å‹ï¼Œé€šè¿‡<code>JSON.parse</code>æ–¹æ³•å³å¯ã€‚</p>\n<h4 id=\"1-2-3-headerå±æ€§\"><a href=\"#1-2-3-headerå±æ€§\" class=\"headerlink\" title=\"1.2.3. headerå±æ€§\"></a>1.2.3. headerå±æ€§</h4><p>åœ¨requestå¯¹è±¡çš„headerä¸­ä¹ŸåŒ…å«å¾ˆå¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼š</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const server &#x3D; http.createServer((req, res) &#x3D;&gt; &#123;\n  console.log(req.headers);\n\n  res.end(&quot;Hello Header&quot;);\n&#125;);</code></pre>\n\n<p>æµè§ˆå™¨ä¼šé»˜è®¤ä¼ é€’è¿‡æ¥ä¸€äº›ä¿¡æ¯ï¼š</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n  &#39;content-type&#39;: &#39;application&#x2F;json&#39;,\n  &#39;user-agent&#39;: &#39;PostmanRuntime&#x2F;7.26.5&#39;,\n  accept: &#39;*&#x2F;*&#39;,\n  &#39;postman-token&#39;: &#39;afe4b8fe-67e3-49cc-bd6f-f61c95c4367b&#39;,\n  host: &#39;localhost:8000&#39;,\n  &#39;accept-encoding&#39;: &#39;gzip, deflate, br&#39;,\n  connection: &#39;keep-alive&#39;,\n  &#39;content-length&#39;: &#39;48&#39;\n&#125;</code></pre>\n\n<p><code>content-type</code>æ˜¯è¿™æ¬¡è¯·æ±‚æºå¸¦çš„æ•°æ®çš„ç±»å‹ï¼š</p>\n<ul>\n<li><code>application/json</code>è¡¨ç¤ºæ˜¯ä¸€ä¸ªjsonç±»å‹ï¼›</li>\n<li><code>text/plain</code>è¡¨ç¤ºæ˜¯æ–‡æœ¬ç±»å‹ï¼›</li>\n<li><code>application/xml</code>è¡¨ç¤ºæ˜¯xmlç±»å‹ï¼›</li>\n<li><code>multipart/form-data</code>è¡¨ç¤ºæ˜¯ä¸Šä¼ æ–‡ä»¶ï¼›</li>\n</ul>\n<p><code>content-length</code>ï¼š</p>\n<ul>\n<li>æ–‡ä»¶çš„å¤§å°å’Œé•¿åº¦</li>\n</ul>\n<p><code>keep-alive</code>ï¼š</p>\n<ul>\n<li><p>httpæ˜¯åŸºäºTCPåè®®çš„ï¼Œä½†æ˜¯é€šå¸¸åœ¨è¿›è¡Œä¸€æ¬¡è¯·æ±‚å’Œå“åº”ç»“æŸåä¼šç«‹åˆ»ä¸­æ–­ï¼›</p>\n</li>\n<li><p>åœ¨http1.0ä¸­ï¼Œå¦‚æœæƒ³è¦ç»§ç»­ä¿æŒè¿æ¥ï¼š</p>\n</li>\n<li><ul>\n<li>æµè§ˆå™¨éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ  <code>connection: keep-alive</code>ï¼›</li>\n</ul>\n</li>\n<li><p>æœåŠ¡å™¨éœ€è¦åœ¨å“åº”å¤´ä¸­æ·»åŠ  <code>connection:keey-alive</code>ï¼›</p>\n</li>\n<li><p>å½“å®¢æˆ·ç«¯å†æ¬¡æ”¾è¯·æ±‚æ—¶ï¼Œå°±ä¼šä½¿ç”¨åŒä¸€ä¸ªè¿æ¥ï¼Œç›´æ¥ä¸€æ–¹ä¸­æ–­è¿æ¥ï¼›</p>\n</li>\n<li><p>åœ¨http1.1ä¸­ï¼Œæ‰€æœ‰è¿æ¥é»˜è®¤æ˜¯ <code>connection: keep-alive</code>çš„ï¼›</p>\n</li>\n<li><ul>\n<li>ä¸åŒçš„WebæœåŠ¡å™¨ä¼šæœ‰ä¸åŒçš„ä¿æŒ <code>keep-alive</code>çš„æ—¶é—´ï¼›</li>\n</ul>\n</li>\n<li><p>Nodeä¸­é»˜è®¤æ˜¯5sä¸­ï¼›</p>\n</li>\n</ul>\n<p><code>accept-encoding</code>ï¼š</p>\n<ul>\n<li>å‘ŠçŸ¥æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯æ”¯æŒçš„æ–‡ä»¶å‹ç¼©æ ¼å¼ï¼Œæ¯”å¦‚jsæ–‡ä»¶å¯ä»¥ä½¿ç”¨gzipç¼–ç ï¼Œå¯¹åº” <code>.gz</code>æ–‡ä»¶ï¼›</li>\n</ul>\n<p><code>accept</code>ï¼š</p>\n<ul>\n<li>å‘ŠçŸ¥æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯å¯æ¥å—æ–‡ä»¶çš„æ ¼å¼ç±»å‹ï¼›</li>\n</ul>\n<p><code>user-agent</code>ï¼š</p>\n<ul>\n<li>å®¢æˆ·ç«¯ç›¸å…³çš„ä¿¡æ¯ï¼›</li>\n</ul>\n<h3 id=\"1-3-å“åº”å¯¹è±¡response\"><a href=\"#1-3-å“åº”å¯¹è±¡response\" class=\"headerlink\" title=\"1.3. å“åº”å¯¹è±¡response\"></a>1.3. å“åº”å¯¹è±¡response</h3><h4 id=\"1-3-1-è¿”å›å“åº”ç»“æœ\"><a href=\"#1-3-1-è¿”å›å“åº”ç»“æœ\" class=\"headerlink\" title=\"1.3.1. è¿”å›å“åº”ç»“æœ\"></a>1.3.1. è¿”å›å“åº”ç»“æœ</h4><p>å¦‚æœæˆ‘ä»¬å¸Œæœ›ç»™å®¢æˆ·ç«¯å“åº”çš„ç»“æœæ•°æ®ï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ï¼š</p>\n<ul>\n<li>Writeæ–¹æ³•ï¼šè¿™ç§æ–¹å¼æ˜¯ç›´æ¥å†™å‡ºæ•°æ®ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å…³é—­æµï¼›</li>\n<li>endæ–¹æ³•ï¼šè¿™ç§æ–¹å¼æ˜¯å†™å‡ºæœ€åçš„æ•°æ®ï¼Œå¹¶ä¸”å†™å‡ºåä¼šå…³é—­æµï¼›</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const http &#x3D; require(&#39;http&#39;);\n\nconst server &#x3D; http.createServer((req, res) &#x3D;&gt; &#123;\n\n  &#x2F;&#x2F; å“åº”æ•°æ®çš„æ–¹å¼æœ‰ä¸¤ä¸ª:\n  res.write(&quot;Hello World&quot;);\n  res.write(&quot;Hello Response&quot;);\n  res.end(&quot;message end&quot;);\n&#125;);\n\nserver.listen(8000, () &#x3D;&gt; &#123;\n  console.log(&quot;æœåŠ¡å™¨å¯åŠ¨ğŸš€~&quot;)\n&#125;);</code></pre>\n\n<p>å¦‚æœæˆ‘ä»¬æ²¡æœ‰è°ƒç”¨ <code>end</code>å’Œ<code>close</code>ï¼Œå®¢æˆ·ç«¯å°†ä¼šä¸€ç›´ç­‰å¾…ç»“æœï¼Œæ‰€ä»¥å®¢æˆ·ç«¯åœ¨å‘é€ç½‘ç»œè¯·æ±‚æ—¶ï¼Œéƒ½ä¼šè®¾ç½®è¶…æ—¶æ—¶é—´ã€‚</p>\n<h4 id=\"1-3-2-è¿”å›çŠ¶æ€ç \"><a href=\"#1-3-2-è¿”å›çŠ¶æ€ç \" class=\"headerlink\" title=\"1.3.2. è¿”å›çŠ¶æ€ç \"></a>1.3.2. è¿”å›çŠ¶æ€ç </h4><p>HttpçŠ¶æ€ç ï¼ˆHttp Status Codeï¼‰æ˜¯ç”¨æ¥è¡¨ç¤ºHttpå“åº”çŠ¶æ€çš„æ•°å­—ä»£ç ï¼š</p>\n<ul>\n<li>HttpçŠ¶æ€ç éå¸¸å¤šï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„æƒ…å†µï¼Œç»™å®¢æˆ·ç«¯è¿”å›ä¸åŒçš„çŠ¶æ€ç ï¼›</li>\n<li>å¸¸è§çš„çŠ¶æ€ç æ˜¯ä¸‹é¢è¿™äº›ï¼ˆåç»­é¡¹ç›®ä¸­ï¼Œä¹Ÿä¼šç”¨åˆ°å…¶ä¸­çš„çŠ¶æ€ç ï¼‰ï¼›</li>\n</ul>\n<p><img src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\" alt=\"å›¾ç‰‡\">çŠ¶æ€ç </p>\n<p>è®¾ç½®çŠ¶æ€ç å¸¸è§çš„æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">res.statusCode &#x3D; 400;\nres.writeHead(200);</code></pre>\n\n<h4 id=\"1-3-3-å“åº”å¤´æ–‡ä»¶\"><a href=\"#1-3-3-å“åº”å¤´æ–‡ä»¶\" class=\"headerlink\" title=\"1.3.3. å“åº”å¤´æ–‡ä»¶\"></a>1.3.3. å“åº”å¤´æ–‡ä»¶</h4><p>è¿”å›å¤´éƒ¨ä¿¡æ¯ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>\n<ul>\n<li><code>res.setHeader</code>ï¼šä¸€æ¬¡å†™å…¥ä¸€ä¸ªå¤´éƒ¨ä¿¡æ¯ï¼›</li>\n<li><code>res.writeHead</code>ï¼šåŒæ—¶å†™å…¥headerå’Œstatusï¼›</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">res.setHeader(&quot;Content-Type&quot;, &quot;application&#x2F;json;charset&#x3D;utf8&quot;);\n\nres.writeHead(200, &#123;\n  &quot;Content-Type&quot;: &quot;application&#x2F;json;charset&#x3D;utf8&quot;\n&#125;)</code></pre>\n\n<p>Headerè®¾ç½® <code>Content-Type</code>æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ</p>\n<ul>\n<li>é»˜è®¤å®¢æˆ·ç«¯æ¥æ”¶åˆ°çš„æ˜¯å­—ç¬¦ä¸²ï¼Œå®¢æˆ·ç«¯ä¼šæŒ‰ç…§è‡ªå·±é»˜è®¤çš„æ–¹å¼è¿›è¡Œå¤„ç†ï¼›</li>\n</ul>\n<p>æ¯”å¦‚ï¼Œæˆ‘ä»¬è¿”å›çš„æ˜¯ä¸€æ®µHTMLï¼Œä½†æ˜¯æ²¡æœ‰æŒ‡å®šæ ¼å¼ï¼š</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">res.end(&#39;&lt;h2&gt;Hello World&lt;&#x2F;h2&gt;&#39;)</code></pre>\n\n<p><img src=\"https://mmbiz.qpic.cn/mmbiz_jpg/O8xWXzAqXuvfXvFoaXOVJ29jk0SkBGbYhcq8kxyag70Du07GP25EmvgUP9YebEKic6MQJxbCxNsdibsib4Jf3Y3vA/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1\" alt=\"å›¾ç‰‡\">image-20201030154312050</p>\n<p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æŒ‡å®šäº†æ ¼å¼ï¼š</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">res.setHeader(&quot;Content-Type&quot;, &quot;text&#x2F;html;charset&#x3D;utf8&quot;);\nres.end(&#39;&lt;h2&gt;Hello World&lt;&#x2F;h2&gt;&#39;)</code></pre>\n\n<p><img src=\"https://mmbiz.qpic.cn/mmbiz_jpg/O8xWXzAqXuvfXvFoaXOVJ29jk0SkBGbYCc4y2GKPr3Sib3iaaUc8zliajHdxhHD78dPdRia52t5F9XfJx9WTMcnxicw/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1\" alt=\"å›¾ç‰‡\">image-20201030154404172</p>\n<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›è¿”å›ä¸€æ®µJSONæ•°æ®ï¼Œåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">res.writeHead(200, &#123;\n  &quot;Content-Type&quot;: &quot;application&#x2F;json;charset&#x3D;utf8&quot;\n&#125;)\n\nconst data &#x3D; &#123;\n  name: &quot;ç‹çº¢å…ƒ&quot;,\n  age: 18,\n  height: 1.88\n&#125;;\n\nres.end(JSON.stringify(data));</code></pre>\n\n<h2 id=\"äºŒ-Webå…¶ä»–è¡¥å……\"><a href=\"#äºŒ-Webå…¶ä»–è¡¥å……\" class=\"headerlink\" title=\"äºŒ. Webå…¶ä»–è¡¥å……\"></a>äºŒ. Webå…¶ä»–è¡¥å……</h2><h3 id=\"2-1-æ–‡ä»¶ä¸Šä¼ çš„ä½¿ç”¨\"><a href=\"#2-1-æ–‡ä»¶ä¸Šä¼ çš„ä½¿ç”¨\" class=\"headerlink\" title=\"2.1. æ–‡ä»¶ä¸Šä¼ çš„ä½¿ç”¨\"></a>2.1. æ–‡ä»¶ä¸Šä¼ çš„ä½¿ç”¨</h3><p>å¦‚æœæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ–‡ä»¶éœ€è¦ä¸Šä¼ åˆ°æœåŠ¡å™¨ç«¯ï¼ŒæœåŠ¡å™¨ç«¯è¿›è¡Œä¿å­˜åº”è¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Ÿ</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const server &#x3D; http.createServer((req, res) &#x3D;&gt; &#123;\n  if (req.url &#x3D;&#x3D;&#x3D; &#39;&#x2F;upload&#39;) &#123;\n    if (req.method &#x3D;&#x3D;&#x3D; &#39;POST&#39;) &#123;\n      const fileWriter &#x3D; fs.createWriteStream(&#39;.&#x2F;foo.png&#39;);\n      req.pipe(fileWriter);\n\n      const fileSize &#x3D; req.headers[&#39;content-length&#39;];\n      let curSize &#x3D; 0;\n      console.log(fileSize);\n\n      req.on(&quot;data&quot;, (data) &#x3D;&gt; &#123;\n        curSize +&#x3D; data.length;\n        console.log(curSize);\n        res.write(&#96;æ–‡ä»¶ä¸Šä¼ è¿›åº¦: $&#123;curSize&#x2F;fileSize * 100&#125;%\\n&#96;);\n      &#125;);\n\n      req.on(&#39;end&#39;, () &#x3D;&gt; &#123;\n        res.end(&quot;æ–‡ä»¶ä¸Šä¼ å®Œæˆ~&quot;);\n      &#125;)\n    &#125;\n  &#125; else &#123;\n    res.end(&quot;error message&quot;);\n  &#125;\n&#125;);</code></pre>\n\n<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å‘ç°æ–‡ä»¶ä¸Šä¼ æˆåŠŸäº†ï¼Œä½†æ˜¯æ–‡ä»¶å´æ‰“ä¸å¼€ï¼š</p>\n<ul>\n<li>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬å†™å…¥çš„æ•°æ®ï¼Œé‡Œé¢åŒ…å«ä¸€äº›ç‰¹æ®Šçš„ä¿¡æ¯ï¼›</li>\n<li>è¿™äº›ä¿¡æ¯æ‰“å¼€çš„è½¯ä»¶å¹¶ä¸èƒ½å¾ˆå¥½çš„è§£æï¼›</li>\n</ul>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const server &#x3D; http.createServer((req, res) &#x3D;&gt; &#123;\n  if (req.url &#x3D;&#x3D;&#x3D; &#39;&#x2F;upload&#39;) &#123;\n    if (req.method &#x3D;&#x3D;&#x3D; &#39;POST&#39;) &#123;\n      &#x2F;&#x2F; å›¾ç‰‡æ–‡ä»¶å¿…é¡»è®¾ç½®ä¸ºäºŒè¿›åˆ¶çš„\n      req.setEncoding(&#39;binary&#39;);\n\n      &#x2F;&#x2F; è·å–content-typeä¸­çš„boundaryçš„å€¼\n      var boundary &#x3D; req.headers[&#39;content-type&#39;].split(&#39;; &#39;)[1].replace(&#39;boundary&#x3D;&#39;,&#39;&#39;);\n      \n      &#x2F;&#x2F; è®°å½•å½“å‰æ•°æ®çš„ä¿¡æ¯\n      const fileSize &#x3D; req.headers[&#39;content-length&#39;];\n      let curSize &#x3D; 0;\n      let body &#x3D; &#39;&#39;;\n\n      &#x2F;&#x2F; ç›‘å¬å½“å‰çš„æ•°æ®\n      req.on(&quot;data&quot;, (data) &#x3D;&gt; &#123;\n        curSize +&#x3D; data.length;\n        res.write(&#96;æ–‡ä»¶ä¸Šä¼ è¿›åº¦: $&#123;curSize&#x2F;fileSize * 100&#125;%\\n&#96;);\n        body +&#x3D; data;\n      &#125;);\n\n      &#x2F;&#x2F; æ•°æ®ç»“æ„\n      req.on(&#39;end&#39;, () &#x3D;&gt; &#123;\n        &#x2F;&#x2F; åˆ‡å‰²æ•°æ®\n        const payload &#x3D; qs.parse(body, &quot;\\r\\n&quot;, &quot;:&quot;);\n        &#x2F;&#x2F; è·å–æœ€åçš„ç±»å‹(image&#x2F;png)\n        const fileType &#x3D; payload[&quot;Content-Type&quot;].substring(1);\n        &#x2F;&#x2F; è·å–è¦æˆªå–çš„é•¿åº¦\n        const fileTypePosition &#x3D; body.indexOf(fileType) + fileType.length;\n        let binaryData &#x3D; body.substring(fileTypePosition);\n        binaryData &#x3D; binaryData.replace(&#x2F;^\\s\\s*&#x2F;, &#39;&#39;);\n\n        &#x2F;&#x2F; binaryData &#x3D; binaryData.replaceAll(&#39;\\r\\n&#39;, &#39;&#39;);\n        const finalData &#x3D; binaryData.substring(0, binaryData.indexOf(&#39;--&#39;+boundary+&#39;--&#39;));\n\n        fs.writeFile(&#39;.&#x2F;boo.png&#39;, finalData, &#39;binary&#39;, (err) &#x3D;&gt; &#123;\n          console.log(err);\n          res.end(&quot;æ–‡ä»¶ä¸Šä¼ å®Œæˆ~&quot;);\n        &#125;)\n      &#125;)\n    &#125;\n  &#125; else &#123;\n    res.end(&quot;error message&quot;);\n  &#125;\n&#125;);</code></pre>\n\n<h3 id=\"2-2-httpå‘é€ç½‘ç»œè¯·æ±‚\"><a href=\"#2-2-httpå‘é€ç½‘ç»œè¯·æ±‚\" class=\"headerlink\" title=\"2.2. httpå‘é€ç½‘ç»œè¯·æ±‚\"></a>2.2. httpå‘é€ç½‘ç»œè¯·æ±‚</h3><p>axiosåº“å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨Nodeä¸­ä½¿ç”¨ï¼š</p>\n<ul>\n<li>åœ¨æµè§ˆå™¨ä¸­ï¼Œaxiosä½¿ç”¨çš„æ˜¯å°è£…xhrï¼›</li>\n<li>åœ¨Nodeä¸­ï¼Œä½¿ç”¨çš„æ˜¯httpå†…ç½®æ¨¡å—ï¼›</li>\n</ul>\n<p>æ‰€ä»¥httpæ¨¡å—æ˜¯å¯ä»¥åœ¨Nodeä¸­ç›´æ¥å‘é€ç½‘ç»œè¯·æ±‚çš„ã€‚</p>\n<p>å‘é€getè¯·æ±‚ï¼š</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">http.get(&quot;http:&#x2F;&#x2F;localhost:8000&quot;, (res) &#x3D;&gt; &#123;\n  res.on(&#39;data&#39;, data &#x3D;&gt; &#123;\n    console.log(data.toString());\n    console.log(JSON.parse(data.toString()));\n  &#125;)\n&#125;);</code></pre>\n\n<p>å‘é€postè¯·æ±‚ï¼š</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const req &#x3D; http.request(&#123;\n  method: &#39;POST&#39;,\n  hostname: &quot;localhost&quot;,\n  port: 8000\n&#125;, (res) &#x3D;&gt; &#123;\n  res.on(&#39;data&#39;, data &#x3D;&gt; &#123;\n    console.log(data.toString());\n    console.log(JSON.parse(data.toString()));\n  &#125;)\n&#125;)\n\nreq.on(&#39;error&#39;, err &#x3D;&gt; &#123;\n  console.log(err);\n&#125;)\n\nreq.end();</code></pre>\n","text":"ä¹.httpå¼€å‘webæœåŠ¡å™¨ ä»€ä¹ˆæ˜¯WebæœåŠ¡å™¨ï¼Ÿ å½“åº”ç”¨ç¨‹åºï¼ˆå®¢æˆ·ç«¯ï¼‰éœ€è¦æŸä¸€ä¸ªèµ„æºæ—¶ï¼Œå¯ä»¥å‘ä¸€ä¸ªå°æœåŠ¡å™¨ï¼Œé€šè¿‡Httpè¯·æ±‚è·å–åˆ°è¿™ä¸ªèµ„æºï¼›æä¾›æœåŠ¡å™¨çš„è¿™ä¸ªæœåŠ¡å™¨ï¼Œå°±æ˜¯ä¸€ä¸ªWebæœåŠ¡å™¨ï¼› WebæœåŠ¡å™¨ ç›®å‰æœ‰å¾ˆå¤šå¼€æºçš„WebæœåŠ¡å™¨ï¼šNginxã€Apacheï¼ˆé™æ€ï¼‰ã€Apache...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"Node","slug":"Node","count":12,"path":"api/categories/Node.json"}],"tags":[{"name":"Node NodeåŸºç¡€ç³»åˆ—","slug":"Node-NodeåŸºç¡€ç³»åˆ—","count":12,"path":"api/tags/Node-NodeåŸºç¡€ç³»åˆ—.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B9%9D-http%E5%BC%80%E5%8F%91web%E6%9C%8D%E5%8A%A1%E5%99%A8\"><span class=\"toc-text\">ä¹.httpå¼€å‘webæœåŠ¡å™¨</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%80-Http%E6%A8%A1%E6%9D%BF%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">ä¸€. Httpæ¨¡æ¿åŸºæœ¬ä½¿ç”¨</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-1-%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1\"><span class=\"toc-text\">1.1. å¦‚ä½•åˆ›å»ºæœåŠ¡</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-1-1-Web%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9D%E4%BD%93%E9%AA%8C\"><span class=\"toc-text\">1.1.1. WebæœåŠ¡å™¨åˆä½“éªŒ</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-1-2-%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8\"><span class=\"toc-text\">1.1.2. åˆ›å»ºæœåŠ¡å™¨</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-1-3-%E7%9B%91%E5%90%AC%E7%AB%AF%E5%8F%A3%E5%92%8C%E4%B8%BB%E6%9C%BA\"><span class=\"toc-text\">1.1.3. ç›‘å¬ç«¯å£å’Œä¸»æœº</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-2-request%E8%AF%B7%E6%B1%82%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">1.2. requestè¯·æ±‚å¯¹è±¡</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-2-1-URL%E7%9A%84%E5%A4%84%E7%90%86\"><span class=\"toc-text\">1.2.1. URLçš„å¤„ç†</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-2-2-Method%E7%9A%84%E5%A4%84%E7%90%86\"><span class=\"toc-text\">1.2.2. Methodçš„å¤„ç†</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-2-3-header%E5%B1%9E%E6%80%A7\"><span class=\"toc-text\">1.2.3. headerå±æ€§</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-3-%E5%93%8D%E5%BA%94%E5%AF%B9%E8%B1%A1response\"><span class=\"toc-text\">1.3. å“åº”å¯¹è±¡response</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-3-1-%E8%BF%94%E5%9B%9E%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C\"><span class=\"toc-text\">1.3.1. è¿”å›å“åº”ç»“æœ</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-3-2-%E8%BF%94%E5%9B%9E%E7%8A%B6%E6%80%81%E7%A0%81\"><span class=\"toc-text\">1.3.2. è¿”å›çŠ¶æ€ç </span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-3-3-%E5%93%8D%E5%BA%94%E5%A4%B4%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">1.3.3. å“åº”å¤´æ–‡ä»¶</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%8C-Web%E5%85%B6%E4%BB%96%E8%A1%A5%E5%85%85\"><span class=\"toc-text\">äºŒ. Webå…¶ä»–è¡¥å……</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-1-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E7%9A%84%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">2.1. æ–‡ä»¶ä¸Šä¼ çš„ä½¿ç”¨</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-2-http%E5%8F%91%E9%80%81%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82\"><span class=\"toc-text\">2.2. httpå‘é€ç½‘ç»œè¯·æ±‚</span></a></li></ol></li></ol>","author":{"name":"ChrisWood","slug":"blog-author","avatar":"https://chriswood-blog.oss-cn-shanghai.aliyuncs.com/me/avatar.png","link":"/","description":"Think like an artist, code like an artisan.","socials":{"github":"https://github.com/ChrisWood-CN","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"NodeåŸºç¡€å","uid":"c2943d2fce9c96d8a973d43b491afc6a","slug":"node/base/NodeåŸºç¡€å","date":"2022-10-01T04:30:50.000Z","updated":"2023-02-06T07:58:50.038Z","comments":true,"path":"api/articles/node/base/NodeåŸºç¡€å.json","keywords":"chriswood blogs sharing","cover":[],"text":"å.expresså¼€å‘webæœåŠ¡å™¨Expressåˆä½“éªŒ1.1. è®¤è¯†Webæ¡†æ¶å‰é¢æˆ‘ä»¬å·²ç»å­¦ä¹ äº†ä½¿ç”¨httpå†…ç½®æ¨¡å—æ¥æ­å»ºWebæœåŠ¡å™¨ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨æ¡†æ¶ï¼Ÿ åŸç”Ÿhttpåœ¨è¿›è¡Œå¾ˆå¤šå¤„ç†æ—¶ï¼Œä¼šè¾ƒä¸ºå¤æ‚ï¼› æœ‰URLåˆ¤æ–­ã€Methodåˆ¤æ–­ã€å‚æ•°å¤„ç†ã€é€»è¾‘ä»£ç å¤„ç†ç­‰ï¼Œéƒ½éœ€è¦æˆ‘ä»¬è‡ªå·±æ¥å¤„ç†...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"Node","slug":"Node","count":12,"path":"api/categories/Node.json"}],"tags":[{"name":"Node NodeåŸºç¡€ç³»åˆ—","slug":"Node-NodeåŸºç¡€ç³»åˆ—","count":12,"path":"api/tags/Node-NodeåŸºç¡€ç³»åˆ—.json"}],"author":{"name":"ChrisWood","slug":"blog-author","avatar":"https://chriswood-blog.oss-cn-shanghai.aliyuncs.com/me/avatar.png","link":"/","description":"Think like an artist, code like an artisan.","socials":{"github":"https://github.com/ChrisWood-CN","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"NodeåŸºç¡€å…«","uid":"adefcce4d4f2d80811a82b2ac8c91417","slug":"node/base/NodeåŸºç¡€å…«","date":"2022-10-01T04:28:50.000Z","updated":"2023-02-06T07:58:50.038Z","comments":true,"path":"api/articles/node/base/NodeåŸºç¡€å…«.json","keywords":"chriswood blogs sharing","cover":[],"text":"å…«. æ·±å…¥äº‹ä»¶å¾ªç¯äº‹ä»¶å¾ªç¯æ˜¯ä»€ä¹ˆï¼Ÿäº‹å®ä¸Šæˆ‘æŠŠäº‹ä»¶å¾ªç¯ç†è§£æˆæˆ‘ä»¬ç¼–å†™çš„JavaScriptå’Œæµè§ˆå™¨æˆ–è€…Nodeä¹‹é—´çš„ä¸€ä¸ªæ¡¥æ¢ã€‚ æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯æ˜¯ä¸€ä¸ªæˆ‘ä»¬ç¼–å†™çš„JavaScriptä»£ç å’Œæµè§ˆå™¨APIè°ƒç”¨(setTimeout&#x2F;AJAX&#x2F;ç›‘å¬äº‹ä»¶ç­‰)çš„ä¸€ä¸ªæ¡¥æ¢, ...","link":"","photos":[],"count_time":{"symbolsCount":"9.1k","symbolsTime":"8 mins."},"categories":[{"name":"Node","slug":"Node","count":12,"path":"api/categories/Node.json"}],"tags":[{"name":"Node NodeåŸºç¡€ç³»åˆ—","slug":"Node-NodeåŸºç¡€ç³»åˆ—","count":12,"path":"api/tags/Node-NodeåŸºç¡€ç³»åˆ—.json"}],"author":{"name":"ChrisWood","slug":"blog-author","avatar":"https://chriswood-blog.oss-cn-shanghai.aliyuncs.com/me/avatar.png","link":"/","description":"Think like an artist, code like an artisan.","socials":{"github":"https://github.com/ChrisWood-CN","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}